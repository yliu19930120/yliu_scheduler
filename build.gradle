plugins {
    id 'java'
	id 'eclipse'
	id 'com.github.johnrengelman.shadow' version '4.0.2'
}

dependencies {
	compile project(':yliu_utils_redis')
	compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
	compile group: 'org.quartz-scheduler', name: 'quartz', version: '2.3.0'
	compile group: 'com.alibaba', name: 'fastjson', version: '1.2.47'
	compile group: 'commons-io', name: 'commons-io', version: '2.4'
    testImplementation 'junit:junit:4.12'
}

jar {
    manifest {
        attributes 'Implementation-Title': 'Application',
                'Implementation-Version': 'version',
                'Main-Class': 'com.yliu.scheduler.Application'
    }
}

shadowJar {
    zip64 true
}

def createDir = {
    path ->
        File dir = new File(path);
        if (!dir.exists()){
            dir.mkdirs();
        }
}

task project(){

    def paths=['src/main/java','src/main/resources','src/test/java','src/test/resources'];
    doFirst{
        paths.forEach(createDir);
    }
}